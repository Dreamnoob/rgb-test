---
description: Defines the CSS/SCSS styling rules, emphasizing the BEM methodology and a strict desktop-first responsive approach with nested media queries.
globs: ["**/*.scss", "**/*.sass", "**/*.css"]
alwaysApply: true
---
# CSS/SCSS Styling and Structure Rules

This document outlines the core principles for writing SCSS in this project. Adhering to these rules ensures consistency, maintainability, and proper responsive behavior.

## 1. Media Query Placement (CRITICAL RULE)

Media queries **MUST** be nested inside the class selector they apply to. This keeps all logic for a component in one place.

### Good Example (Correct)
```scss
// All styles for .block are co-located
.block {
  display: flex;
  flex-direction: column;
  gap: 20px;

  // Media queries are nested inside the parent selector
  @media (max-width: 1023px) {
    flex-direction: row;
    gap: 15px;
  }

  @media (max-width: 767px) {
    gap: 10px;
  }
}
```

### Bad Example (Incorrect)
```scss
// DO NOT do this. Styles for .block are scattered.
.block {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

// Media queries are separate, making the code hard to follow.
@media (max-width: 1023px) {
  .block {
    flex-direction: row;
    gap: 15px;
  }
}

@media (max-width: 767px) {
  .block {
    gap: 10px;
  }
}
```

## 2. Responsive Design (Desktop-First)

The project follows a desktop-first approach. Start with desktop styles and use `max-width` media queries to adjust for smaller screens.

### Breakpoints
- `1599px` — Large desktops
- `1365px` — Laptops / Medium desktops
- `1023px` — Tablets
- `767px` — Mobile

### Layout Shift Rule
- **Structural changes** (e.g., changing `display`, `flex-direction`, `grid-template-columns`) are only permitted at **1023px and below**.
- On larger breakpoints (`1599px`, `1365px`), only adjust non-structural properties like `font-size`, `padding`, `margin`, and `gap`.

## 3. BEM Naming Convention

Use a BEM-like structure for class names to create modular and descriptive components.

- **Block**: `.component-name` (e.g., `.hero`, `.card`)
- **Element**: `.block-element` (e.g., `.hero-title`, `.card-image`)
- **Modifier**: `.block--modifier`, `.block-element--modifier` (e.g., `.card--dark`, `.card-button--disabled`)

### nth-child Selectors Best Practices

When styling alternating elements, use semantic selectors instead of specific numbers:

### Good Example (Correct)
```scss
// Use semantic selectors with nesting for better organization
.item {
  // Base styles
  
  &:nth-child(even) {
    .item-title,
    .item-subtitle {
      color: #0D181A;
    }
  }
  
  &:nth-child(odd) {
    background-color: #f5f5f5;
  }
}
```

### Bad Example (Incorrect)
```scss
// Don't use specific numbers - hard to maintain
.item:nth-child(2) .item-title,
.item:nth-child(4) .item-title,
.item:nth-child(6) .item-title {
  color: #0D181A;
}
```

## 4. BEM Shorthand Usage (CRITICAL RULE)

**NEVER** use BEM shorthand (`&-`) for elements. Always write the full class name for better readability and maintainability.

### Good Example (Correct)
```scss
.partners {
  .partners-header {
    display: flex;
    justify-content: space-between;
  }

  .partners-title {
    color: #0D181A;
  }

  .partners-card {
    padding: 20px;
  }
}
```

### Bad Example (Incorrect)
```scss
// DO NOT use &- for elements
.partners {
  &-header {        // ❌ Use .partners-header instead
    display: flex;
  }

  &-title {         // ❌ Use .partners-title instead
    color: #0D181A;
  }
}
```

### Modifiers Exception
BEM shorthand (`&-`) is **ALLOWED** only for modifiers to maintain clean code:

### Good Example (Correct)
```scss

.partners-header {
  display: flex;
}

// Modifiers can use shorthand
&--dark {
  background-color: #0D181A;
}

.partners-card {
  padding: 20px;

  // Element modifiers can use shorthand
  &--active {
    border-color: #009DA1;
  }
}

```

## 5. Typography Classes Usage (CRITICAL RULE)

**ALWAYS** use existing typography classes from `src/scss/_text.scss` instead of writing custom font styles in components.

### Available Typography Classes
- **Headings**: `.h0`, `.h1`, `.h2`, `.h3`, `.h4`, `.h5` (all with responsive behavior)
- **Text**: `.text-xl`, `.text-l`, `.text-m`, `.text-s` (all with responsive behavior)
- **Utilities**: `.uppercase`, `.visually-hidden`

### Good Example (Correct)
```scss
// Use existing typography classes
.hero-title {
  color: #009DA1;
  text-transform: uppercase;
  margin-bottom: 24px;
  // NO font-size, font-weight, line-height - use .h2 class in HTML
}
```

```html
<!-- Apply typography class directly in HTML -->
<h2 class="hero-title h2">Title Text</h2>
```

### Bad Example (Incorrect)
```scss
// DO NOT duplicate typography styles in components
.hero-title {
  color: #009DA1;
  font-size: 72px;           // ❌ Already defined in .h2
  font-weight: 300;          // ❌ Already defined in .h2
  line-height: 110%;         // ❌ Already defined in .h2
  letter-spacing: -1.44px;   // ❌ Already defined in .h2
  text-transform: uppercase;
  margin-bottom: 24px;
  
  @media (max-width: 1599px) {  // ❌ Already defined in .h2
    font-size: 64px;
  }
  // ... more duplicate responsive styles
}
```

## 6. File and Code Organization

- **Component Files**: Each component has its own file in `src/scss/components/_component-name.scss`.
- **Base Styles**: Global styles, variables, mixins, and fonts are located in `_vars.scss`, `_mixins.scss`, `_fonts.scss`, `_global.scss`, etc.
- **Indentation**: Use tabs for indentation.
- **Comments**: Write all comments in English.

## 7. Edge-to-Edge Blocks Methodology

For blocks that need to "extend" beyond the container to the screen edge, use this systematic approach:

### HTML Structure
```html
<div class="container">
  <div class="wrapper">
    <div class="content"><!-- Content --></div>
    <div class="image-block">
      <div class="image-wrapper">
        <img src="image.jpg" alt="Description" />
      </div>
      <div class="image-content"><!-- Content over image --></div>
    </div>
  </div>
</div>
```

### CSS Implementation
```scss
.wrapper {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 120px;
}

.image-block {
  position: relative;
}

.image-wrapper {
  position: absolute;
  top: 0;
  left: -240px; // (1920 - 1440) / 2 = -240px
  bottom: 0;
  right: 0;
  z-index: -1;
  
  @media (max-width: 1919px) {
    left: -30px;
  }
  
  @media (max-width: 1023px) {
    left: -20px;
  }
}

.image-wrapper::before {
  content: '';
  position: absolute;
  inset: 0;
  background: /* overlay gradient */;
  z-index: 2;
}

.image-wrapper img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
```

### Calculation Formula
- **1920px** (always desktop width) - **Container width** (e.g., 1440px including paddings) = **480px**
- **480px / 2 = 240px** offset
- Use `left: -240px` for left edge or `right: -240px` for right edge

### Key Benefits
- ✅ Block precisely touches screen edge
- ✅ Content stays within container boundaries
- ✅ Easy responsive adaptation
- ✅ Clean code with `::before` instead of separate overlay elements
- ✅ Consistent methodology across project
- ✅ Block precisely touches screen edge
- ✅ Content stays within container boundaries
- ✅ Easy responsive adaptation
- ✅ Clean code with `::before` instead of separate overlay elements
- ✅ Consistent methodology across project